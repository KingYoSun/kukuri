# メトリクス更新ログ 2025年10月

## 2025年10月20日
- 実施者: Codex（CI）
- 実行内容:
  - `pnpm install --frozen-lockfile`
  - `pnpm test` / `pnpm exec vitest run --reporter=json`
  - `pnpm lint`（失敗）
  - `cargo test`（失敗）
  - `cargo clippy -- -D warnings`
  - `rg` による TODO / `any` / `#[allow(dead_code)]` カウント
- 結果概要:
  - TypeScript テスト: 694件中 688件成功 / 6件スキップ（`2025-10-20-vitest-results.json` に保存）。
  - Lint: `src/stores/draftStore.test.ts` の未使用変数で失敗。
  - Rust テスト: Windows DLL 依存により `STATUS_ENTRYPOINT_NOT_FOUND` で失敗（Docker 経由が必要）。
  - Clippy: 成功。
  - TODO/any 集計: TS TODO 1件 / `any` 94件、Rust TODO 21件 / `#[allow(dead_code)]` 20件。
- ギャップ/アクションアイテム:
  - Vitest v3 では `--filter` オプションが利用できない。フローのコマンド記載を修正。
  - Windows で Rust テストを実行する際は Docker 使用を必須と明記。
  - Lint 失敗箇所の修正が必要（`localStorageMock` → `_localStorageMock` 等）。
  - `rg` 集計の再現性確保のため、スクリプト化と対象ディレクトリ/グロブの固定が必要。
  - `scripts/run-rust-tests.ps1` を追加し、Docker 経由での Rust テスト実行を自動化（初回実行時に Docker Hub へのアクセスが必要）。
