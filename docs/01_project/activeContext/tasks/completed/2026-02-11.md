# 2026年02月11日 作業完了タスク

最終更新日: 2026年02月11日

## Community Nodes / `cn-user-api` bootstrap 認証必須時の `401 + WWW-Authenticate` 契約

- [x] `cn-user-api` の認証エラー実装を更新し、`Authorization` 不備で `401` を返す際に `WWW-Authenticate: Bearer realm="cn-user-api"` を付与
- [x] `/v1/bootstrap/nodes` の契約テストで `401` と `WWW-Authenticate` ヘッダ互換を検証
- [x] `/v1/bootstrap/topics/{topic_id}/services` の契約テストで `401` と `WWW-Authenticate` ヘッダ互換を検証
- [x] `community_nodes_roadmap.md` の該当未実装項目を完了に更新
- [x] 進捗レポートを `docs/01_project/progressReports/2026-02-11_cn_user_api_bootstrap_401_www_authenticate_contract.md` として作成

## 検証

- [x] `./scripts/test-docker.ps1 rust`（成功）
- [x] `gh act --workflows .github/workflows/test.yml --job format-check`（初回は `cargo fmt` 差分で失敗、整形後に再実行で成功）
  - 失敗ログ: `tmp/logs/gh-act-format-check-20260211-115842.log`
  - 成功ログ: `tmp/logs/gh-act-format-check-20260211-120021.log`
- [x] `gh act --workflows .github/workflows/test.yml --job native-test-linux`（成功）
  - ログ: `tmp/logs/gh-act-native-test-linux-20260211-120200.log`
- [x] `gh act --workflows .github/workflows/test.yml --job community-node-tests`（成功）
  - ログ: `tmp/logs/gh-act-community-node-tests-20260211-120854.log`
