## ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆTask 26ï¼‰

- [x] `docs/01_project/refactoring_plan_2025-08-08_v3.md` ã‚’ `docs/01_project/deprecated/` ä»¥ä¸‹ã¸ç§»å‹•ã—ã€æœ¬æ–‡ã«å®Œäº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨å‚ç…§å…ˆã‚’è¿½è¨˜ã€‚æ—§ãƒ‘ã‚¹å´ã«ã¯ stub ã‚’é…ç½®ã—ã€åˆ©ç”¨è€…ãŒã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å…ˆã¸èª˜å°ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸã€‚
- [x] `docs/01_project/deprecated/README.md` ã‚’æ–°è¨­ã—ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å¯¾è±¡ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä¸€è¦§ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»æœ€æ–°å‚ç…§å…ˆã‚’æ•´ç†ã—ãŸã€‚
- [x] `roadmap.md` / `design_doc.md` / `tauri_app_implementation_plan.md` / `phase5_user_flow_summary.md` ãªã©ä¸»è¦ãªå‚ç…§å…ƒã‚’æ›´æ–°ã—ã€ã€Œã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ¸ˆã¿ã€ãƒ©ãƒ™ãƒ«ã¨æ–°ãƒ‘ã‚¹ã‚’è¿½è¨˜ã€‚`phase5_*` artefact ã‚„ `tasks/completed/*` ã®ãƒªãƒ³ã‚¯ã‚‚ä¸€æ‹¬ã§ `docs/01_project/deprecated/` é…ä¸‹ã¸å·®ã—æ›¿ãˆãŸã€‚

### ä¸»ãªå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

- `docs/01_project/deprecated/refactoring_plan_2025-08-08_v3.md`
- `docs/01_project/refactoring_plan_2025-08-08_v3.md`
- `docs/01_project/deprecated/README.md`
- `docs/01_project/roadmap.md`
- `docs/01_project/design_doc.md`
- `docs/01_project/activeContext/tauri_app_implementation_plan.md`
- `docs/01_project/activeContext/artefacts/phase5_user_flow_summary.md`
- `docs/01_project/activeContext/artefacts/phase5_ci_path_audit.md`

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

- ãªã—ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç§»å‹•ã¨æ›´æ–°ã®ã¿ï¼‰

## GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®‰å®šåŒ–ï¼ˆTask 24ï¼‰

- [x] `kukuri-tauri/src/tests/unit` é…ä¸‹ã® DM/Quote/Reply/ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«/åŒæœŸãƒ†ã‚¹ãƒˆã‚’å…±é€šã® `createToastMock`/Zustand ãƒ¢ãƒƒã‚¯ã§å†é…ç·šã—ã€Vitest å®Ÿè¡Œæ™‚ã« `ReferenceError` ãŒç™ºç”Ÿã—ã¦ã„ãŸ `vi.mock` ã®é †åºä¾å­˜ã‚’è§£æ¶ˆã€‚
- [x] `scripts/check_date_format.py` ã« UTF-8 ä»¥å¤–ã® Markdown ã‚’å®‰å…¨ã«èª­ã¿è¾¼ã‚€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è¿½åŠ ã—ã€`docs/` å†…ã® Shift_JIS/UTF-16 ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼ãŒé€šã‚‹ã‚ˆã†ã«ä¿®æ­£ã€‚
- [x] Prettier ã§ `src/tests/**/*` ã¨ `src/tests/utils/zustandTestUtils.ts` ã‚’å†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã€`pnpm format:check` ã‚’é€šéã•ã›ãŸã€‚
- [x] `./scripts/test-docker.ps1 ts` ã‚’å®Ÿè¡Œã—ã¦ 90 ä»¶ã® Vitest/ESLint ã‚’ Docker ä¸Šã§å®Œèµ°ã•ã›ãŸã†ãˆã§ã€`gh act --job format-check` ã¨ `gh act --job native-test-linux` ã‚’å®Ÿè¡Œã€‚å¾Œè€…ã¯ Docker ã‚½ã‚±ãƒƒãƒˆæ¨©é™ä¸è¶³ã§ CLI ã® docker_connectivity ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€ãƒ­ã‚°ã‚’åé›†æ¸ˆã¿ã€‚

### ä¸»ãªå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

- `kukuri-tauri/src/tests/unit/components/directMessages/DirectMessageDialog.test.tsx`
- `kukuri-tauri/src/tests/unit/components/posts/QuoteForm.test.tsx`
- `kukuri-tauri/src/tests/unit/components/posts/ReplyForm.test.tsx`
- `kukuri-tauri/src/tests/unit/hooks/useOffline.test.tsx`
- `kukuri-tauri/src/tests/unit/hooks/useSyncManager.test.tsx`
- `kukuri-tauri/src/tests/unit/routes/profile.$userId.test.tsx`
- `kukuri-tauri/src/tests/utils/zustandTestUtils.ts`
- `scripts/check_date_format.py`

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

- `powershell.exe -NoLogo -NonInteractive -ExecutionPolicy Bypass -File ./scripts/test-docker.ps1 ts`
- `gh act --workflows .github/workflows/test.yml --job format-check --env NPM_CONFIG_PREFIX=/tmp/npm-global`
- `gh act --workflows .github/workflows/test.yml --job native-test-linux --env NPM_CONFIG_PREFIX=/tmp/npm-global`

## æœªä½¿ç”¨ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ 0 ä»¶ã®é”æˆï¼ˆTask 21ï¼‰

- [x] `node scripts/check-tauri-commands.mjs` ã‚’å®Ÿè¡Œï¼ˆCLI å‡ºåŠ›: "Tauri ã‚³ãƒãƒ³ãƒ‰ 84 ä»¶ã¯ã™ã¹ã¦ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã¦ã„ã¾ã™ã€‚"ï¼‰ã—ã€84/84 ä»¶ã® `#[tauri::command]` ãŒ UI/Hook/ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‹ã‚‰å‚ç…§ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚ãƒ›ã‚¹ãƒˆç’°å¢ƒã«ã¯ `corepack pnpm` ãŒç„¡ã„ãŸã‚ `pnpm run check:tauri-commands` ã¯å®Ÿè¡Œã§ããšã€CI å´ã§åŒã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ç¶šã‘ã‚‹é‹ç”¨ã§æ•´åˆæ€§ã‚’å–ã‚‹æ–¹é‡ã‚’æ˜è¨˜ã€‚
- [x] `docs/01_project/activeContext/artefacts/phase5_user_flow_inventory.md` Sec.3.2/3.3 ã‚’ 2025å¹´11æœˆ18æ—¥ç‰ˆã¸æ›´æ–°ã—ã€æœªæ¥ç¶šã‚³ãƒãƒ³ãƒ‰ 0 ä»¶ã¨ç›£æŸ»ãƒ­ã‚°ï¼ˆ`add_relay` ã»ã‹æ’¤å»æ—¥ï¼‰ã‚’è¨˜éŒ²ã€‚
- [x] `phase5_feature_usage_map.md`ãƒ»`phase5_user_flow_summary.md`ãƒ»`phase5_ci_path_audit.md` ã«ã‚‚åŒã˜ç›£æŸ»çµæœã¨ä»Šå¾Œã®é‹ç”¨ãƒ«ãƒ¼ãƒ«ã‚’è¿½è¨˜ã—ã€`refactoring_plan_2025-08-08_v3.md` ã® KPIã€Œæœªä½¿ç”¨ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ 0 ä»¶ã€ã‚’é”æˆæ¸ˆã¿ã«å¤‰æ›´ã€‚
- [x] `docs/01_project/activeContext/tasks/status/in_progress.md` ã‹ã‚‰ Task 21 ã‚’å‰Šé™¤ã—ã€`tasks/completed/2025-11-19.md` ã¸è¨˜éŒ²ã€‚

### ä¸»ãªå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

- `docs/01_project/activeContext/artefacts/phase5_user_flow_inventory.md`
- `docs/01_project/activeContext/artefacts/phase5_feature_usage_map.md`
- `docs/01_project/activeContext/artefacts/phase5_user_flow_summary.md`
- `docs/01_project/activeContext/artefacts/phase5_ci_path_audit.md`
- `docs/01_project/deprecated/refactoring_plan_2025-08-08_v3.md`
- `docs/01_project/activeContext/tasks/status/in_progress.md`

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

- `node scripts/check-tauri-commands.mjs`

## å­¤ç«‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ 0 ä»¶ã®è¨¼è·¡åŒ–ï¼ˆTask 22ï¼‰

- [x] `phase5_user_flow_inventory.md` 1.5 è¡Œãƒ»Sec.2 ã®ã‚®ãƒ£ãƒƒãƒ—ä¸€è¦§ã‚’æ›´æ–°ã—ã€`KeyManagementDialog` ã®ç¨¼åƒçŠ¶æ³ã‚’æ˜è¨˜ã€‚Sec.5.13 ã§ã¯ `KeyManagementDialog` / Summary Panel / `SyncStatusIndicator` ã®å°ç·šãƒ»ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ»Docker ãƒ†ã‚¹ãƒˆã‚’ä¸€è¦§åŒ–ã—ã€å­¤ç«‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ 0 ä»¶ã§ã‚ã‚‹ã“ã¨ã‚’è¨¼è·¡åŒ–ã€‚
- [x] `phase5_user_flow_summary.md` 1.5 ç¯€ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«è¦ç´ ãƒ»å°ç·šã‚®ãƒ£ãƒƒãƒ—è¡¨ãƒ»å„ªå…ˆåº¦ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ›´æ–°ã—ã€å­¤ç«‹çŠ¶æ…‹ã®è§£æ¶ˆã¨ Inventory/Runbook å‚ç…§å…ˆã‚’åŒæœŸã€‚
- [x] `docs/03_implementation/p2p_mainline_runbook.md` Chapter4.4 ã«å­¤ç«‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç›£æŸ»ã®æ‰‹é †ã‚’è¿½è¨˜ã—ã€`refactoring_plan_2025-08-08_v3.md` KPIã€Œå­¤ç«‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ0ä»¶ã€ã‚’é”æˆæ¸ˆã¿ã«å¤‰æ›´ã€‚
- [x] `tasks/status/in_progress.md` ã‹ã‚‰ Task 22 ã‚’å‰Šé™¤ã—ã€æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã¸å®Œäº†ãƒ­ã‚°ã‚’è¿½è¨˜ã€‚

### ä¸»ãªå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

- `docs/01_project/activeContext/artefacts/phase5_user_flow_inventory.md`
- `docs/01_project/activeContext/artefacts/phase5_user_flow_summary.md`
- `docs/03_implementation/p2p_mainline_runbook.md`
- `docs/01_project/deprecated/refactoring_plan_2025-08-08_v3.md`
- `docs/01_project/activeContext/tasks/status/in_progress.md`

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

- ãªã—ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ã®ã¿ï¼‰

## dead_code ã® 80% ä»¥ä¸Šå‰Šé™¤ï¼ˆTask 23ï¼‰

- [x] `rg '#\[allow(dead_code)' -g '*.rs'` ã‚’ `tmp/logs/dead_code_inventory_20251119-053142.log` / `...-053645.log` ã«æ¡å–ã—ã€Phase 5 CI ç›£æŸ»ã¸ãƒªã‚¹ãƒˆåŒ–ã€‚7ä»¶ã‚ã£ãŸ `#![allow(dead_code)]` ã‚’ 0 ä»¶ã¾ã§å‰Šæ¸›ã€‚
- [x] æœªå‚ç…§ã® `kukuri-tauri/src-tauri/src/modules` ãƒ„ãƒªãƒ¼ã‚’ä¸¸ã”ã¨å‰Šé™¤ã—ã€`lib.rs` ã‹ã‚‰ `mod modules;` ã‚’æ’¤å»ã€‚`p2p_metrics_export` ã¯ `test_support` ã¸ã®ä¾å­˜ã‚’ã‚„ã‚ã€`lib.rs` ã§ `TopicMetricsRepository` / `SqliteRepository` / `ConnectionPool` / `AppConfig` ã‚’å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦å®Ÿè£…å±¤ã‚’ç›´æ¥åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã€‚
- [x] `docs/01_project/activeContext/artefacts/phase5_ci_path_audit.md` ã« dead_code ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ–°è¨­ã—ã€å‰Šé™¤å¯¾è±¡ã®è¨¼è·¡ã¨ `./scripts/test-docker.ps1 rust` ãƒ­ã‚°ï¼ˆ`tmp/logs/test_docker_rust_20251119-055648.log`ï¼‰ã‚’ç´ä»˜ã‘ã€‚`p2p_mainline_runbook.md`ãƒ»`refactoring_plan_2025-08-08_v3.md` ã‚‚åŒæ—¥ã®æ›´æ–°å±¥æ­´ã«è¿½è¨˜ã€‚
- [x] `./scripts/test-docker.ps1 rust` ã‚’å®Ÿè¡Œã—ã¦ 190 ä»¶ã® Rust ãƒ†ã‚¹ãƒˆã¨ Contract/P2P ã‚¹ãƒ¢ãƒ¼ã‚¯ã‚’å†å®Ÿè¡Œã€‚TypeScript å´ã¯ `docker compose ... lint-check` ã§ `pnpm lint` / `pnpm format:check` ã‚’èµ°ã‚‰ã›ã€ãƒ­ã‚° `tmp/logs/pnpm_lint_20251119-055434.log` ã‚’å–å¾—ã€‚`cargo fmt`/`cargo clippy` ã¯ `application/shared/tests/mod.rs` ã® UTF-8 è§£æã§ Rust 1.86.0 ãŒ panic ã™ã‚‹æ—¢çŸ¥ä¸å…·åˆã«ã‚ˆã‚Šå¤±æ•—ï¼ˆ`tmp/logs/test_docker_lint_20251119-055329.log` / `tmp/logs/cargo_clippy_20251119-055408.log`ï¼‰ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€Runbook ã¸ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰ï¼ˆLF å¤‰æ›ãƒ»ASCII ã‚³ãƒ¡ãƒ³ãƒˆåŒ–æ¸ˆã¿ã€ä»Šå¾Œã¯ `rustup toolchain` æ›´æ–°å¾…ã¡ï¼‰ã¨ã—ã¦è¨˜éŒ²ã€‚

### ä¸»ãªå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

- `kukuri-tauri/src-tauri/src/bin/p2p_metrics_export.rs`
- `kukuri-tauri/src-tauri/src/lib.rs`
- `kukuri-tauri/src-tauri/src/application/shared/tests/mod.rs`
- `docs/01_project/activeContext/artefacts/phase5_ci_path_audit.md`
- `docs/03_implementation/p2p_mainline_runbook.md`
- `docs/01_project/deprecated/refactoring_plan_2025-08-08_v3.md`
- `docs/01_project/activeContext/tasks/status/in_progress.md`

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

- `rg '#\[allow(dead_code)' -g '*.rs' | Tee-Object tmp/logs/dead_code_inventory_20251119-053142.log`
- `./scripts/test-docker.ps1 rust`
- `docker compose -f docker-compose.test.yml run --rm --entrypoint bash lint-check -lc 'cd /app/kukuri-tauri && pnpm lint && pnpm format:check'`
- `docker compose -f docker-compose.test.yml run --rm --entrypoint bash lint-check -lc 'export PATH=/usr/local/cargo/bin:$PATH; cd /app/kukuri-tauri/src-tauri && cargo clippy --workspace --all-features -- -D warnings'`ï¼ˆ`rustfmt`/`rustc` panic ã®ãŸã‚å¤±æ•—ãƒ­ã‚°ã®ã¿å–å¾—ï¼‰

## GitHub Actions Docker Test Suite dead_code  - Task 25
- [x] Docker Test Suite  `-D warnings` Å’~Ä‚ßAgpW[ (`memory_cache` È‚) Æƒv[e[VwÌ–znh/DTO ğ®—AeXgp\bh `#[cfg(test)]` ÉˆÚ‚Ä–{ÔƒrhçœOB
- [x] vtB[Ao^[L`Pbg kind:30078 ^f[^ADHT/Gossip/Distributor Ô‚È‚Ç•ÛÄ‚é‚¾tB[hÉpiof[VEOEíœjÇ‰ Rust  dead_code B
- [x] `ApiResponse`E`AuthHandler`E`state.rs` È‚ AppState Ó‚VACI  Docker WuÅ‚ clean build É‚È‚é‚±Æ‚ `gh act` ÅŠmFB

### et@C
- `kukuri-tauri/src-tauri/src/infrastructure/cache/{mod.rs,post_cache.rs}`
- `kukuri-tauri/src-tauri/src/application/services/profile_avatar_service.rs`
- `kukuri-tauri/src-tauri/src/domain/entities/event/validation/kind30078.rs`
- `kukuri-tauri/src-tauri/src/infrastructure/p2p/{event_distributor,state.rs,iroh_gossip_service.rs,dht_bootstrap.rs,dht_integration.rs}`
- `kukuri-tauri/src-tauri/src/presentation/{handlers/mod.rs,handlers/auth_handler.rs,dto/mod.rs}`
- `kukuri-tauri/src-tauri/src/state.rs` È‚ dead_code CÅXV Rust t@Cê®

### sR}h
- `cargo fmt`
- `gh act --workflows .github/workflows/test.yml --job format-check`ienv: `NPM_CONFIG_PREFIX=/tmp/npm-global`j
- `gh act --workflows .github/workflows/test.yml --job native-test-linux`ienv: `NPM_CONFIG_PREFIX=/tmp/npm-global`j
