# 2025年12月26日 完了タスク

## nostr-sdk 0.44.1 への更新（kukuri-tauri）

### 概要
nostr-sdk を 0.44.1 へ更新し、API 変更に合わせて Timestamp 変換と NIP-10/NIP-18 タグの扱いを調整しました。

### 対応内容
- `kukuri-tauri/src-tauri/Cargo.toml` の nostr-sdk を 0.44.1 に更新し、`Cargo.lock` を更新。
- `Timestamp::as_u64` を `as_secs` に置き換え。
- `Marker::Mention` 廃止に伴い、引用フローのテストを `TagStandard::Quote` に更新。
- `nostr_sdk::key::vanity::Error` の変換実装を削除。
- kukuri-cli は nostr-sdk 依存が無いため変更なし（追加が必要なら別途対応）。

### テスト/確認
- `gh act --workflows .github/workflows/test.yml --job format-check`
- `gh act --workflows .github/workflows/test.yml --job native-test-linux`

## kukuri-cli / kukuri-tauri 依存ライブラリ更新（Cargo.toml）

### 概要
kukuri-cli と kukuri-tauri の依存ライブラリを最新安定版へ更新し、API 変更に合わせて Rust 実装と CI の Rust バージョンを更新しました。

### 対応内容
- `kukuri-tauri/src-tauri/Cargo.toml` / `kukuri-cli/Cargo.toml` の依存を最新安定版へ更新（`bincode` は 3.0.0 が `compile_error!` のため 2.0.1 を維持）。
- rand/bech32/secp256k1 の API 変更に合わせて関連実装を調整。
- `.github/workflows/test.yml` の `RUST_VERSION` を 1.86 に更新し、`docs/03_implementation/docker_test_environment.md` の記載を同期。

### テスト/確認
- `./scripts/test-docker.ps1 rust`
- `gh act --workflows .github/workflows/test.yml --job native-test-linux`
- `gh act --workflows .github/workflows/test.yml --job format-check`
