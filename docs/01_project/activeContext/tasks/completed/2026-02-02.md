# 2026年02月02日 完了タスク

最終更新日: 2026年02月02日

## Community Node 採用ノード設定の複数ノード/role別対応
- [x] UI/Store/DTO/Handler を nodes + roles 構成に更新し、label/trust/search/bootstrap をノード単位で切替可能にした
- [x] Community Node 認証/トークン/consent/keys/invite の操作対象を base_url で選択できるように変更
- [x] PostCard/Search の有効判定を nodes/roles に合わせて更新
- [x] E2E/Unit/Bridge の更新

## Community Node Trust Anchor (39011) 実装
- [x] trust.anchor(39011) の発行・署名・保存・取得/クリアの API/コマンドを追加
- [x] 設定UIの attester 選択に追従して PostCard の trust 表示が切替わるように更新
- [x] trust anchor 適用の unit テストとモックを更新

## Access Control epochローテ/追放フロー実装
- [x] community node の epoch++ と key.envelope 再配布を行う Access Control サービスを追加
- [x] cn-admin-api に Access Control の rotate/revoke エンドポイントを追加
- [x] cn-cli に Access Control の rotate/revoke コマンドを追加
- [x] cn-user-api の key.envelope 発行処理を共通 Access Control 実装へ移行

## 検証
- [x] `./scripts/test-docker.ps1 rust`
- [x] `./scripts/test-docker.ps1 ts`（act/useRouter 警告あり、失敗なし）
- [x] `gh act --workflows .github/workflows/test.yml --job format-check`
- [x] `gh act --workflows .github/workflows/test.yml --job native-test-linux`（act/useRouter 警告あり、失敗なし）

## docs 以下の記述更新と現行状況の整理
- [x] docs/SUMMARY.md を最新のドキュメント構成に合わせて刷新し、進行状況の参照先を activeContext に集約
- [x] docs/03_implementation/summary.md の索引を実ファイル構成に合わせて再整理
- [x] docs/01_project/activeContext/summary.md の最終確認日と参照情報を更新

## docs/ 配下の矛盾・旧情報の修正
- [x] docs/02_architecture/project_structure.md を現行ディレクトリ構成（5層構造/各プロジェクト）に更新
- [x] docs/03_implementation/iroh_gossip_integration_design.md を GossipService/IrohGossipService 前提へ刷新
- [x] docs/02_architecture/dht_discovery_architecture.md の DiscoveryConfig 旧記述を NetworkConfig/DiscoveryOptions に置換
- [x] docs/03_implementation/dht_integration_guide.md を現行 API/設定名に合わせて全面更新
