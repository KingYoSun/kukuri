# 2025年11月13日 完了タスク

最終更新日: 2025年11月13日

## GitHub Actions ワークフロー修復

- [x] `useProfileAvatarSync` / `composerStore` / `topicStore` の型ずれを解消し、`PendingTopicStatus::from_value` へ改名。`ProfileSetup`・`ProfileEditDialog`・`useTopics` のユニットテストを新仕様に合わせて更新し、`pnpm format:check` → `pnpm lint` → `pnpm type-check` → `pnpm test` を通過させて TypeScript パイプラインを復旧。
- [x] `docs/01_project/activeContext/tasks/status/in_progress.md` に 2025年11月13日の対応内容（gh act ログ・PowerShell Docker テストログ）を追記し、タスクの進捗を共有。

### 実行コマンド

- `pnpm format:check`
- `pnpm lint`
- `pnpm type-check`
- `pnpm test`
- `gh act push -j format-check -W .github/workflows/test.yml --container-options '--user 0:0'`
- `gh act push -j native-test-linux -W .github/workflows/test.yml --container-options '--user 0:0'`

## Rust / Docker テスト検証

- [x] Windows ネイティブの `cargo test` が DLL 依存で失敗するため、`./scripts/test-docker.ps1 rust` を実行して kukuri-tauri/src-tauri と kukuri-cli の `cargo test` / `cargo clippy` / マルチノード P2P テストを Docker 上で完走。ログは `tmp/rust-docker.log` に保存。
- [x] `cargo test --workspace --all-features`・`cargo clippy --workspace --all-features -- -D warnings` を `kukuri-tauri/src-tauri` と `kukuri-cli` の両方で実行し、ローカルの警告ゼロを確認。`gh act push -j docker-test ...` は Windows の単一ファイルマウント制約で失敗するため、代替として上記 PowerShell スクリプト結果を共有。

### 実行コマンド

- `cd kukuri-tauri/src-tauri && cargo test --workspace --all-features`
- `cd kukuri-tauri/src-tauri && cargo clippy --workspace --all-features -- -D warnings`
- `cd kukuri-cli && cargo test --workspace --all-features`
- `cd kukuri-cli && cargo clippy --workspace --all-features -- -D warnings`
- `./scripts/test-docker.ps1 rust`
- `gh act push -j docker-test -W .github/workflows/test.yml --container-options '--user 0:0'`
